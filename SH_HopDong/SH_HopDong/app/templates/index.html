{% extends "base.html" %}

{% block title %}Trang chủ - Số hóa Hợp đồng{% endblock %}

{% block extra_css %}
<style>
/* Ensure hero section displays immediately */
.hero-container {
    min-height: 500px !important;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%) !important;
    border-radius: 32px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin-bottom: 3rem !important;
    position: relative !important;
    overflow: hidden !important;
}

.hero-content {
    text-align: center !important;
    color: white !important;
    z-index: 10 !important;
    position: relative !important;
}

.hero-title {
    font-size: 3.5rem !important;
    font-weight: 800 !important;
    color: white !important;
    margin-bottom: 1.5rem !important;
}

.hero-subtitle {
    font-size: 1.2rem !important;
    color: rgba(255, 255, 255, 0.9) !important;
    margin-bottom: 2rem !important;
}

.hero-stats {
    display: flex !important;
    justify-content: center !important;
    gap: 2rem !important;
    flex-wrap: wrap !important;
}

.stat-item {
    text-align: center !important;
    padding: 1rem 1.5rem !important;
    background: rgba(255, 255, 255, 0.1) !important;
    border-radius: 15px !important;
    min-width: 120px !important;
}

.stat-number {
    font-size: 2rem !important;
    font-weight: 700 !important;
    color: white !important;
}

.stat-label {
    font-size: 0.85rem !important;
    color: rgba(255, 255, 255, 0.8) !important;
    text-transform: uppercase !important;
}

/* Features Grid */
.features-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
    gap: 2rem !important;
    max-width: 1200px !important;
    margin: 0 auto !important;
}

.feature-card {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    border-radius: 24px !important;
    padding: 2.5rem 2rem !important;
    text-align: center !important;
    transition: all 0.3s ease !important;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1) !important;
}

.feature-card:hover {
    transform: translateY(-10px) !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15) !important;
}

.feature-icon {
    width: 80px !important;
    height: 80px !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 auto 2rem !important;
    font-size: 2rem !important;
    color: white !important;
    transition: all 0.3s ease !important;
}

.ai-icon { background: linear-gradient(135deg, #667eea, #764ba2) !important; }
.smart-icon { background: linear-gradient(135deg, #f093fb, #f5576c) !important; }
.security-icon { background: linear-gradient(135deg, #56ab2f, #a8e6cf) !important; }
.speed-icon { background: linear-gradient(135deg, #4facfe, #00f2fe) !important; }

.feature-title {
    font-size: 1.4rem !important;
    font-weight: 700 !important;
    color: #1a202c !important;
    margin-bottom: 1rem !important;
}

.feature-description {
    color: #64748b !important;
    line-height: 1.6 !important;
    margin-bottom: 1.5rem !important;
    font-size: 0.95rem !important;
}

.stat-badge {
    display: inline-block !important;
    padding: 8px 16px !important;
    background: linear-gradient(135deg, #f8fafc, #e2e8f0) !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    border-radius: 20px !important;
    font-size: 0.85rem !important;
    font-weight: 600 !important;
    color: #475569 !important;
}

/* Action Cards */
.action-card {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    border-radius: 20px !important;
    padding: 2rem !important;
    text-align: center !important;
    transition: all 0.3s ease !important;
    cursor: pointer !important;
    height: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: space-between !important;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1) !important;
}

.action-card:hover {
    transform: translateY(-10px) !important;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15) !important;
}

.action-icon {
    width: 80px !important;
    height: 80px !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 auto 1.5rem !important;
    font-size: 2rem !important;
    color: white !important;
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
}

.action-title {
    font-size: 1.25rem !important;
    font-weight: 700 !important;
    color: #1a202c !important;
    margin-bottom: 1rem !important;
}

.action-description {
    color: #64748b !important;
    margin-bottom: 1.5rem !important;
    font-size: 0.9rem !important;
}

.action-card .btn {
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
    border: none !important;
    color: white !important;
    padding: 10px 20px !important;
    border-radius: 25px !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
}

.action-card .btn:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3) !important;
}

/* Section Titles */
.section-title {
    font-size: 2.5rem !important;
    font-weight: 800 !important;
    background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
    margin-bottom: 1rem !important;
    letter-spacing: -0.02em !important;
}

.section-subtitle {
    font-size: 1.2rem !important;
    color: #64748b !important;
    font-weight: 400 !important;
    max-width: 600px !important;
    margin: 0 auto !important;
}

/* Cards */
.card {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    border-radius: 20px !important;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1) !important;
}

.card-header {
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
    color: white !important;
    border-radius: 20px 20px 0 0 !important;
    padding: 1.5rem !important;
    border: none !important;
}

.bg-gradient-primary {
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
}

/* File Icon */
.file-icon {
    width: 40px !important;
    height: 40px !important;
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
    border-radius: 10px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    color: white !important;
    font-size: 1rem !important;
}

/* Empty State */
.empty-state {
    text-align: center !important;
    padding: 3rem 0 !important;
}

.empty-icon {
    width: 80px !important;
    height: 80px !important;
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 auto 1.5rem !important;
    color: white !important;
    font-size: 2rem !important;
}

.empty-title {
    color: #1a202c !important;
    margin-bottom: 0.5rem !important;
    font-weight: 700 !important;
}

.empty-text {
    color: #64748b !important;
    margin-bottom: 1.5rem !important;
}

/* Status Cards */
.status-card {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    border-radius: 20px !important;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1) !important;
}

.status-header {
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
    color: white !important;
    border-radius: 20px 20px 0 0 !important;
    padding: 1.5rem !important;
}

.status-item {
    display: flex !important;
    align-items: center !important;
    padding: 1rem !important;
    background: rgba(255, 255, 255, 0.5) !important;
    border-radius: 15px !important;
    transition: all 0.3s ease !important;
    margin-bottom: 0.5rem !important;
}

.status-item:hover {
    background: rgba(255, 255, 255, 0.8) !important;
    transform: translateY(-2px) !important;
}

.status-icon {
    width: 50px !important;
    height: 50px !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin-right: 1rem !important;
    font-size: 1.25rem !important;
    color: white !important;
}

.status-online .status-icon {
    background: linear-gradient(135deg, #56ab2f, #a8e6cf) !important;
}

.status-title {
    font-weight: 700 !important;
    color: #1a202c !important;
    margin-bottom: 0.25rem !important;
}

.status-text {
    color: #64748b !important;
    font-size: 0.9rem !important;
}

/* Table Styling */
.table {
    background: transparent !important;
}

.table th {
    background: rgba(102, 126, 234, 0.1) !important;
    color: #1a202c !important;
    font-weight: 600 !important;
    border: none !important;
}

.table td {
    border: none !important;
    padding: 1rem !important;
    vertical-align: middle !important;
}

.table-hover tbody tr:hover {
    background: rgba(102, 126, 234, 0.05) !important;
}

/* Badges */
.badge {
    padding: 0.5rem 1rem !important;
    border-radius: 20px !important;
    font-weight: 600 !important;
}

.bg-primary {
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
}

.bg-success {
    background: linear-gradient(135deg, #56ab2f, #a8e6cf) !important;
}

.bg-warning {
    background: linear-gradient(135deg, #f093fb, #f5576c) !important;
}

.bg-secondary {
    background: linear-gradient(135deg, #64748b, #94a3b8) !important;
}

/* Buttons */
.btn-primary {
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
    border: none !important;
    border-radius: 25px !important;
    padding: 0.75rem 1.5rem !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
}

.btn-primary:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3) !important;
}

.btn-outline-primary {
    border: 2px solid #667eea !important;
    color: #667eea !important;
    background: transparent !important;
    border-radius: 10px !important;
    transition: all 0.3s ease !important;
}

.btn-outline-primary:hover {
    background: #667eea !important;
    color: white !important;
    transform: translateY(-2px) !important;
}

.btn-outline-danger {
    border: 2px solid #ef4444 !important;
    color: #ef4444 !important;
    background: transparent !important;
    border-radius: 10px !important;
    transition: all 0.3s ease !important;
}

.btn-outline-danger:hover {
    background: #ef4444 !important;
    color: white !important;
    transform: translateY(-2px) !important;
}

/* Responsive Design */
@media (max-width: 768px) {
    .hero-section {
        padding: 4rem 0 !important;
    }

    .hero-title {
        font-size: 2.5rem !important;
    }

    .hero-subtitle {
        font-size: 1rem !important;
    }

    .stats-grid {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
    }

    .features-grid {
        grid-template-columns: 1fr !important;
        gap: 1.5rem !important;
    }

    .feature-card {
        padding: 2rem 1.5rem !important;
    }

    .section-title {
        font-size: 2rem !important;
    }

    .action-card {
        padding: 1.5rem !important;
    }
}

/* Animations */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.fade-in-up {
    animation: fadeInUp 0.6s ease-out;
}

/* Scrollbar Styling */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f5f9;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #5a67d8, #6b46c1);
}

/* Loading States */
.loading {
    opacity: 0.6;
    pointer-events: none;
}

.loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    margin: -10px 0 0 -10px;
    border: 2px solid #667eea;
    border-radius: 50%;
    border-top-color: transparent;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Focus States */
.btn:focus,
.form-control:focus {
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.25) !important;
    outline: none !important;
}

/* Utility Classes */
.glass-effect {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

.gradient-text {
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
}

.shadow-soft {
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1) !important;
}

.shadow-hover {
    transition: all 0.3s ease !important;
}

.shadow-hover:hover {
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15) !important;
    transform: translateY(-5px) !important;
}

/* Icon Pulse Effect */
.feature-icon-wrapper {
    position: relative !important;
    display: inline-block !important;
}

.icon-pulse {
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    width: 100% !important;
    height: 100% !important;
    border-radius: 50% !important;
    background: inherit !important;
    transform: translate(-50%, -50%) !important;
    animation: pulse 2s infinite !important;
    opacity: 0.3 !important;
}

@keyframes pulse {
    0% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.3;
    }
    50% {
        transform: translate(-50%, -50%) scale(1.2);
        opacity: 0.1;
    }
    100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.3;
    }
}

/* Feature Icon Wrapper */
.feature-icon-wrapper .feature-icon {
    position: relative !important;
    z-index: 2 !important;
}

/* Action Cards Hover Effects */
.action-upload:hover {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)) !important;
}

.action-search:hover {
    background: linear-gradient(135deg, rgba(240, 147, 251, 0.1), rgba(245, 87, 108, 0.1)) !important;
}

.action-analytics:hover {
    background: linear-gradient(135deg, rgba(86, 171, 47, 0.1), rgba(168, 230, 207, 0.1)) !important;
}

.action-settings:hover {
    background: linear-gradient(135deg, rgba(79, 172, 254, 0.1), rgba(0, 242, 254, 0.1)) !important;
}

/* Enhanced Glass Effect */
.glass-card {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(30px) !important;
    -webkit-backdrop-filter: blur(30px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1) !important;
}

/* Smooth Transitions */
* {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Custom Scrollbar for Cards */
.card-body::-webkit-scrollbar {
    width: 6px;
}

.card-body::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 3px;
}

.card-body::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 3px;
}

/* Enhanced Button Styles */
.btn-gradient {
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
    border: none !important;
    color: white !important;
    position: relative !important;
    overflow: hidden !important;
}

.btn-gradient::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent) !important;
    transition: left 0.5s !important;
}

.btn-gradient:hover::before {
    left: 100% !important;
}

/* Status Indicators */
.status-online {
    position: relative !important;
}

.status-online::before {
    content: '' !important;
    position: absolute !important;
    top: 5px !important;
    right: 5px !important;
    width: 12px !important;
    height: 12px !important;
    background: #10b981 !important;
    border-radius: 50% !important;
    animation: blink 2s infinite !important;
}

@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0.3; }
}
</style>
{% endblock %}

{% block breadcrumb %}
<nav aria-label="breadcrumb" class="mt-3">
    <div class="container">
        <ol class="breadcrumb">
            <li class="breadcrumb-item active" aria-current="page">
                <i class="fas fa-home me-2"></i>Trang chủ
            </li>
        </ol>
    </div>
</nav>
{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Ultra Modern Hero Section -->
    <div class="row mb-5" data-aos="fade-up">
        <div class="col-12">
            <div class="hero-container">
                <div class="hero-background"></div>
                <div class="hero-content">
                    <div class="hero-badge">
                        <span class="badge-text">✨ AI-Powered Contract Management</span>
                    </div>
                    <div class="hero-icon-container">
                        <div class="hero-icon">
                            <i class="fas fa-file-contract"></i>
                        </div>
                    </div>
                    <h1 class="hero-title">
                        <span class="title-line">Số hóa</span>
                        <span class="title-line gradient-text">Hợp đồng</span>
                    </h1>
                    <p class="hero-subtitle">
                        Hệ thống quản lý và xử lý hợp đồng thông minh với công nghệ AI tiên tiến
                    </p>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="stat-number">{{ stats.total or 0 }}</div>
                            <div class="stat-label">Hợp đồng</div>
                        </div>
                        <div class="stat-divider"></div>
                        <div class="stat-item">
                            <div class="stat-number">{{ stats.processed or 0 }}</div>
                            <div class="stat-label">Đã xử lý</div>
                        </div>
                        <div class="stat-divider"></div>
                        <div class="stat-item">
                            <div class="stat-number">99.9%</div>
                            <div class="stat-label">Độ chính xác</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Advanced Features Grid -->
    <div class="row mb-5" data-aos="fade-up" data-aos-delay="200">
        <div class="col-12">
            <div class="features-section">
                <div class="section-header text-center mb-5">
                    <h2 class="section-title">Tính năng nổi bật</h2>
                    <p class="section-subtitle">Công nghệ AI tiên tiến cho quản lý hợp đồng</p>
                </div>
                <div class="features-grid">
                    <div class="feature-card" data-aos="zoom-in" data-aos-delay="100">
                        <div class="feature-icon-wrapper">
                            <div class="feature-icon ai-icon">
                                <i class="fas fa-brain"></i>
                                <div class="icon-pulse"></div>
                            </div>
                        </div>
                        <h3 class="feature-title">AI OCR</h3>
                        <p class="feature-description">Trích xuất văn bản tự động với độ chính xác 99.9%</p>
                        <div class="feature-stats">
                            <span class="stat-badge">{{ stats.processed or 0 }} hợp đồng</span>
                        </div>
                    </div>

                    <div class="feature-card" data-aos="zoom-in" data-aos-delay="200">
                        <div class="feature-icon-wrapper">
                            <div class="feature-icon smart-icon">
                                <i class="fas fa-magic"></i>
                                <div class="icon-pulse"></div>
                            </div>
                        </div>
                        <h3 class="feature-title">Phân loại thông minh</h3>
                        <p class="feature-description">Tự động phân loại và gắn thẻ hợp đồng</p>
                        <div class="feature-stats">
                            <span class="stat-badge">8 loại hợp đồng</span>
                        </div>
                    </div>

                    <div class="feature-card" data-aos="zoom-in" data-aos-delay="300">
                        <div class="feature-icon-wrapper">
                            <div class="feature-icon security-icon">
                                <i class="fas fa-shield-alt"></i>
                                <div class="icon-pulse"></div>
                            </div>
                        </div>
                        <h3 class="feature-title">Bảo mật cao</h3>
                        <p class="feature-description">Mã hóa end-to-end và tuân thủ GDPR</p>
                        <div class="feature-stats">
                            <span class="stat-badge">256-bit SSL</span>
                        </div>
                    </div>

                    <div class="feature-card" data-aos="zoom-in" data-aos-delay="400">
                        <div class="feature-icon-wrapper">
                            <div class="feature-icon speed-icon">
                                <i class="fas fa-bolt"></i>
                                <div class="icon-pulse"></div>
                            </div>
                        </div>
                        <h3 class="feature-title">Xử lý nhanh</h3>
                        <p class="feature-description">Xử lý hợp đồng trong vòng 30 giây</p>
                        <div class="feature-stats">
                            <span class="stat-badge">&lt; 30s</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="row mb-5" data-aos="fade-up" data-aos-delay="400">
        <div class="col-12">
            <h2 class="section-title text-center mb-5">Thao tác nhanh</h2>
            <div class="row g-4">
                <div class="col-lg-3 col-md-6">
                    <div class="action-card action-upload" onclick="window.location.href='/search'">
                        <div class="action-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <h3 class="action-title">Tải lên hợp đồng</h3>
                        <p class="action-description">Upload và xử lý hợp đồng mới với AI OCR</p>
                        <button class="btn">Tải lên ngay</button>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="action-card action-search" onclick="window.location.href='/contracts'">
                        <div class="action-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3 class="action-title">Tìm kiếm hợp đồng</h3>
                        <p class="action-description">Tìm kiếm và quản lý hợp đồng đã xử lý</p>
                        <button class="btn">Tìm kiếm</button>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="action-card action-reports">
                        <div class="action-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <h3 class="action-title">Báo cáo thống kê</h3>
                        <p class="action-description">Xem báo cáo chi tiết về hiệu suất xử lý</p>
                        <button class="btn">Xem báo cáo</button>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="action-card action-settings">
                        <div class="action-icon">
                            <i class="fas fa-cog"></i>
                        </div>
                        <h3 class="action-title">Cài đặt hệ thống</h3>
                        <p class="action-description">Cấu hình và tùy chỉnh hệ thống</p>
                        <button class="btn">Cài đặt</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Contracts -->
    <div class="row mb-5" data-aos="fade-up" data-aos-delay="600">
        <div class="col-12">
            <div class="card border-0 shadow-lg">
                <div class="card-header bg-gradient-primary text-white">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-clock me-2"></i>Hợp đồng gần đây
                    </h3>
                </div>
                <div class="card-body">
                    {% if contracts %}
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Tên file</th>
                                        <th>Loại</th>
                                        <th>Trạng thái</th>
                                        <th>Ngày tải lên</th>
                                        <th>Thao tác</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for contract in contracts %}
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div class="file-icon me-3">
                                                    <i class="fas fa-file-alt"></i>
                                                </div>
                                                <div>
                                                    <div class="fw-bold">{{ contract.original_filename or 'N/A' }}</div>
                                                    <small class="text-muted">PDF</small>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            {% if contract.contract_type %}
                                                <span class="badge bg-primary">{{ contract.contract_type.name }}</span>
                                            {% else %}
                                                <span class="badge bg-secondary">Chưa xác định</span>
                                            {% endif %}
                                        </td>
                                        <td>
                                            {% if contract.status == 'processed' %}
                                                <span class="badge bg-success">Đã xử lý</span>
                                            {% elif contract.status == 'processing' %}
                                                <span class="badge bg-warning">Đang xử lý</span>
                                            {% elif contract.status == 'pending' %}
                                                <span class="badge bg-secondary">Chờ xử lý</span>
                                            {% else %}
                                                <span class="badge bg-secondary">{{ contract.status or 'Chưa xác định' }}</span>
                                            {% endif %}
                                        </td>
                                        <td>{{ contract.created_at.strftime('%d/%m/%Y %H:%M') if contract.created_at else 'N/A' }}</td>
                                        <td>
                                            <div class="btn-group btn-group-sm">
                                                <a href="/contracts/{{ contract.id }}" class="btn btn-outline-primary">
                                                    <i class="fas fa-eye"></i>
                                                </a>
                                                <button class="btn btn-outline-danger" onclick="confirmDelete('{{ contract.id }}', '{{ contract.filename }}')">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% else %}
                        <div class="empty-state">
                            <div class="empty-icon">
                                <i class="fas fa-inbox"></i>
                            </div>
                            <h4 class="empty-title">Chưa có hợp đồng nào</h4>
                            <p class="empty-text">Hãy tải lên hợp đồng đầu tiên để bắt đầu</p>
                            <a href="/search" class="btn btn-primary">
                                <i class="fas fa-plus me-2"></i>Tải lên hợp đồng
                            </a>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- System Status -->
    <div class="row mb-5" data-aos="fade-up" data-aos-delay="800">
        <div class="col-12">
            <div class="card status-card">
                <div class="card-header status-header">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-server me-2"></i>Trạng thái hệ thống
                    </h3>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <div class="status-item status-online">
                                <div class="status-icon">
                                    <i class="fas fa-check"></i>
                                </div>
                                <div class="status-content">
                                    <div class="status-title">API Server</div>
                                    <div class="status-text">Hoạt động bình thường</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="status-item status-online">
                                <div class="status-icon">
                                    <i class="fas fa-database"></i>
                                </div>
                                <div class="status-content">
                                    <div class="status-title">Database</div>
                                    <div class="status-text">Kết nối ổn định</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="status-item status-online">
                                <div class="status-icon">
                                    <i class="fas fa-brain"></i>
                                </div>
                                <div class="status-content">
                                    <div class="status-title">AI Engine</div>
                                    <div class="status-text">Sẵn sàng xử lý</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="status-item status-online">
                                <div class="status-icon">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <div class="status-content">
                                    <div class="status-title">Bảo mật</div>
                                    <div class="status-text">Đã bảo vệ</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteModalLabel">
                    <i class="fas fa-exclamation-triangle text-danger me-2"></i>Xác nhận xóa
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Bạn có chắc chắn muốn xóa hợp đồng <strong id="contractName"></strong>?</p>
                <p class="text-muted">Hành động này không thể hoàn tác.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                <form id="deleteForm" method="POST" style="display: inline;">
                    <button type="submit" class="btn btn-danger">Xóa</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
function confirmDelete(contractId, contractName) {
    document.getElementById('contractName').textContent = contractName;
    document.getElementById('deleteForm').action = `/contracts/${contractId}/delete`;

    const deleteModal = new bootstrap.Modal(document.getElementById('deleteModal'));
    deleteModal.show();
}
</script>
{% endblock %}
